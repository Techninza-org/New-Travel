<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <title>Document</title>
    <style>
    .Investor {
     margin-top: 10rem;
  
        }
#blog-container{
  display: flex;
  flex-direction: column;
  justify-content: center;
  /* align-items: center; */
  width: 80%;
  margin: auto;

}

    </style>
  </head>
  
  <body>
    <div class="container-fluid navCont-fluid">
      <div class="container">
        <nav class="navbar navbar-expand-lg">
          <div class="container-fluid">
            <a class="navbar-brand" href="./index.html"
              ><img
                style="height: auto; width: 100px"
                class=""
                src="image/EZI Logo.png"
                alt=""
            /></a>
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavDropdown"
              aria-controls="navbarNavDropdown"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div
              class="collapse navbar-collapse me-auto"
              id="navbarNavDropdown"
            >
              <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="#"
                    >Blog</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </div>
    <!-- *****************first section******************* -->

      <div class="Investor text-center">
        <h1 class="head display-4 mb-5 fw-bold">Blog</h1>
        <div id="blog-container"></div>
      </div>
    </div>

    
    <!-- Footer -->
    <footer class="site-footer bg-dark text-white py-4">
      <div class="container">
        <div class="row">
          <div class="col d-flex justify-content-center">
            <!-- Left Side Content -->
            <div
              class="col-lg-6 col-md-6 col-sm-12 mb-3 mb-lg-0 d-flex flex-column align-items-start"
            >
              <a
                class="text-decoration-none text-white"
                href="./term&condition.html"
                target="_blank"
              >
                <p class="mt-2 mb-1">Terms & Conditions</p>
              </a>
              <a
                class="text-decoration-none text-white"
                href="./privacyPolicy.html"
                target="_blank"
              >
                <p class="mb-2">Privacy Policy</p>
              </a>
              <a
                class="text-decoration-none text-white"
                href="./refundPolicy.html"
                target="_blank"
              >
                <p class="mb-2">Refund Policy</p>
              </a>
              <a href="">
                <img
                  class=""
                  style="width: 100px"
                  src="./image/EZI Logo.png"
                  alt="EZI Logo"
                />
              </a>
            </div>
          </div>

          <!-- Right Side Content -->
          <div
            class="col-lg-6 col-md-6 col-sm-6 d-flex flex-column align-items-center justify-content-center"
          >
            <!-- <ul class="social-icons list-unstyled d-flex mb-2">
                        <li class="pe-2"><a class="text-white"
                                href="https://www.facebook.com/profile.php?id=61561465412880" target="_blank"><i
                                    class="bi bi-facebook"></i></a></li>
                        <li class="mx-2"><a class="text-white" href="https://x.com/eziotravels" target="_blank"><i
                                    class="bi bi-twitter"></i></a></li>
                        <li class="mx-2"><a class="text-white" href="https://www.instagram.com/eziotravels/"
                                target="_blank"><i class="bi bi-instagram"></i></a></li>
                        <li class="mx-2"><a class="text-white" href="https://www.linkedin.com/company/ezio-travels/?"
                                target="_blank"><i class="bi bi-linkedin"></i></a></li>
                    </ul> -->
            <p class="copyright-text mb-0">
              &copy; 2024 All Rights Reserved by <br />
              EZIO TRAVELS PRIVATE LIMITED
            </p>
          </div>
        </div>
      </div>
    </footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script>
 window.onload = function () {
  // Get the blog ID from the URL
  const urlParams = new URLSearchParams(window.location.search);
  const id = urlParams.get('id'); // Assuming the URL has a query parameter like ?id=someValue
  console.log(id);

  // Check if id is available
  if (!id) {
    console.error("Blog ID is not defined.");
    return; // Exit if id is not found
  }

  // API URL (replace with your actual API URL)
  const apiURL = `https://eziotravels.com/api/auth/blog/${id}`;

  // Fetch the data using Axios
  axios
    .get(apiURL)
    .then((response) => {
      const blogData = response.data.blog;

      // Log the created_at value for debugging
      console.log("Created At:", blogData.created_at);

      const blogHTML = `
        <h1 class="head mb-5 d-flex text-start">${blogData.title || 'No Title Available'}</h1>
        <div class="d-flex mb-5" style="gap: 10px; margin-top: -3rem;">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar3" style="margin-top: 4px;" viewBox="0 0 16 16">
            <path d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2M1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857z"/>
            <path d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/>
          </svg>
          <span>${formatDate(blogData.created_at)}</span>
        </div>
        <img src="${blogData.image || 'default-image.jpg'}" class="img-fluid" alt="Blog Image" />
        <p class="d-flex text-start mt-5">${blogData.description || 'No Description Available'}</p>
      `;

      // Inject the blog content into the container
      const blogContainer = document.getElementById("blog-container");
      if (blogContainer) {
        blogContainer.innerHTML = blogHTML;
      } else {
        console.error("Blog container not found.");
      }
    })
    .catch((error) => {
      console.error("Error fetching blog data:", error);
      const blogContainer = document.getElementById("blog-container");
      if (blogContainer) {
        blogContainer.innerHTML = `<p>Failed to load the blog. Please try again later.</p>`;
      }
    });
};

function formatDate(dateString) {
  // Parse the ISO string into a JavaScript Date object
  const date = new Date(dateString);

  // Check if the date is valid
  if (isNaN(date.getTime())) {
    console.error("Invalid date:", dateString);
    return "Invalid Date"; // Return a default message if the date is invalid
  }

  // Extract day, month, and year
  const day = String(date.getDate()).padStart(2, '0');
  const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are 0-indexed, so add 1
  const year = date.getFullYear();

  // Return the formatted date in dd/mm/yyyy format
  return `${day}/${month}/${year}`;
}


    </script>
    

  </body>
</html>
